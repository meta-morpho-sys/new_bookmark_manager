<!DOCTYPE html>

<html>
<head></head>

<div>
  <form action="/create-new-link" method="post">
    <input type="text" name="url" required="required" size="50" maxlength="1000" placeholder="Paste your link here [max 1000 char]">
    <input type="text" name="title" required="required" size="50" maxlength="100" placeholder="Give a title to your link [max 100 char]">
    <input type="submit" name="new_link" value="Add">
  </form>
</div>

<%= flash[:notice] %>

<div>
  <ul>
    <% @links.each do |link| %>
      <li id="link-<%= link.id %>">
        <a href="<%= link.url %>" target="_blank">
          <%= link.url if link.title.nil? %>
          <%= link.title %>
        </a>
        <form action="/delete_link" method="post">
          <input type="hidden" name="id" value="<%= link.id %>">
          <input type="hidden" name="title" value="<%= link.title %>">
          <input type="submit" value="Delete">
        </form>

        <form action="/update_link" method="get">
          <input type="hidden" name="id" value="<%= link.id %>">
          <input type="hidden" name="title" value="<%= link.title %>">
          <input type="hidden" name="title" value="<%= link.url %>">
          <input type="submit" value="Update">
        </form>
      </li>
    <% end %>
  </ul>
</div>

</html>
